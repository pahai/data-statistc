<!DOCTYPE html>
<html style="height: 100%">
	
<head>
	   <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=1">
       <meta charset="utf-8">
       <base target="_blank">
	   <title>hx数据概览</title>
       <link rel="shortcut icon" href="/icon/favicon.ico" />
       <link rel="bookmark" href="/icon/favicon.ico" />
       <style>
		   #header {
			   background-color:black;
			   color:white;
			   text-align:center;
			   padding:5px;
			   width:100%;
			   }
		   #intro {
			   line-height:30px;
			   border:5px solid black;
			   color:black;
			   height:400px;
			   width:500px;
			   float:left;
			   padding:20px;
			   }
		   #pie {
			   height:430px;
			   width:500px;
			   border:5px solid black;
			   float:left;
			   padding:5px;
			   }
		   #relative {
			   border:5px solid black;
				height:420px;
				width:800px;
				float:left;
				padding:10px;
				text-align:center;
				}   
			   	    
	       #area-stack {
			   border:5px solid black;
			   height:800px;
			   width:1050px;
			   background-color:;
			   padding:5px;
			   clear:both;
			   float:left;
			   
			   }
			   
			#inout1 {
			   height:500px;
			   width:395px;
			   padding:5px;
			   float:left;
			   border:5px solid black;
				}
				
			#inout2 {
			   height:500px;
			   width:395px;
			   padding:5px;
			   float:left;
			   border:5px solid black;
				}	
				     
			#end {
			   height:280px;
			   width:810px;
			   padding:5px;
			   background-color:;
			   float:left;
			   text-align:center;
			   border:5px solid black;
			   }
			   
			#btc {
				height:600px;
				width:940px;
				paddomg:5px;
				float:left;
				border:5px solid black;
				}   
			
			#hc {
				height:600px;
				width:940px;
				paddomg:5px;
				float:left;
				border:5px solid black;
				}
				   
			#footer {
			   background-color:black;
			   color:white;
			   clear:both;
			   text-align:center;
			   padding:10px; 
			   } 
			   
			#a {
			   border:5px solid black;
			   float:left;
			   height:290px;
			   width:820px;
			   } 
			   
		a {text-decoration: none}	        
       </style>		
</head>

<body style="margin: 0; background-color:	#F0FFFF" >
	   
	<script type="text/javascript" src="/icon/jquery.js"></script>
	<script type="text/javascript" src="/icon/echarts.min.js"></script>
	<script type="text/javascript" src="/icon/echartsGL.js"></script>
	<script src="/icon/infographic.js"></script>
	<script src="/icon/macarons.js"></script>
	<script src="/icon/dark.js"></script>
	<script src="/icon/vintage.js"></script>
	<script src="/icon/shine.js"></script>
	<script src="/icon/roma.js"></script> 
	<script type="text/javascript" src="https://widget.aicoin.net.cn/chart/js/aicoin.js"></script>
	  
	<div id="header">
		<h1>Pahai Hub</h1>
	</div>	
	<div id="intro">
		<p><strong>本网站自动统计并展示hx相关数据</strong></p>
		<p><strong>hyper exchange(HX)是一个跨链交易平台，目前支持hc、btc、eth、ltc、elf、pax、usdt多币种质押</strong></p>
		<p><strong>详情请点击下方文档</strong></p>
	 
		<a href="http://docs.hx.cash/">hx文档</a>
		<a href="https://h.cash/">hcash主页</a>
		<a href="http://explorer.hx.cash/">hx区块浏览器</a>
		<a href="https://hc-explorer.h.cash/">hc区块浏览器</a> 
<!--
		<h1><script type="text/javascript">document.write(a);</script></h1> 
-->
	</div>  
	<div id="relative"></div>
	<div id="pie"></div>
	
	<div id="area-stack"></div>
	
	<div id="inout1"></div>
	
	<div id="inout2"></div>
	
	<div id="end">
		<a href="https://weibo.com/3804863935"><img src="/icon/sadsmile.jpg" height="100" width="100" /></a>
		<br />
		<p>疑问或建议，欢迎联系:</p>
		<p>496345846@qq.com</p>
		<p>HX打赏地址:</p>
		<p>HXNT4g9pRZw5ruSBQySawn5e1bbzWW4fadcq</p>		
	</div>
	
	
	<div id="btc">
		<script type="text/javascript">
			new AICoin.chart({
				"symbol": "ZBBTCQC",
				"default_step": "86400",
				"default_theme": "light",
				"title": "btc实时走势",
				"default_step": "86400",
				"lang": "zh"
				
			})
		</script>
	</div>
	
	<div id="hc">
		<script type="text/javascript">
			new AICoin.chart({
				"symbol": "ZBHSRQC",
				"default_step": "86400",
				"default_theme": "light",
				"title": "btc实时走势",
				"default_step": "86400",
				"lang": "zh"
				
			})
		</script>
	</div>

	<div id="footer">
		数据来源：zb API, AIcoin, coinmarketcap, HX explorer
	</div>

<script type="text/javascript">
	var piechart = echarts.init(document.getElementById('pie'),'macarons');
	var relativechart = echarts.init(document.getElementById('relative'),'macarons');
	var stackchart = echarts.init(document.getElementById('area-stack'),'macarons');
	var inoutchart1 = echarts.init(document.getElementById('inout1'),'macarons');
	var inoutchart2 = echarts.init(document.getElementById('inout2'),'macarons');
	//饼图
pieoption = {
	backgroundColor: '#F0FFFF',	
	title : {
        text: '资产占比',
        subtext: '',
        x:'center'
    },
    tooltip : {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data:[]
    },
    series : [
		{
            name: '币种市值',
            type: 'pie',
            radius : '55%',
            center: ['50%', '60%'],
            data:[],	
				//~ ].sort(function (a, b) { return a.value - b.value; }),
			itemStyle: {
				emphasis: {
					shadowBlur: 10,
					shadowOffsetX: 0,
					shadowColor: 'rgba(0, 0, 0, 0.5)'
				}
			}
        }
    ]
};

	//价格-质押额曲线
relative_option = {
	tooltip : {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
        },
        position: function (pt) {
            return [pt[0], '10%'];
        }
    },
    toolbox: {
        feature: {
            dataZoom: {
                yAxisIndex: 'none'
            },
            restore: {},
            saveAsImage: {}
        }
    },
    dataZoom: [{
        type: 'inside',
        start: 0,
        end: 100
    }, {
        start: 0,
        end: 10,
        handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
        handleSize: '80%',
        handleStyle: {
            color: '#fff',
            shadowBlur: 3,
            shadowColor: 'rgba(0, 0, 0, 0.6)',
            shadowOffsetX: 2,
            shadowOffsetY: 2
        }
    }],
    legend:{
		data:["质押市值","BTC","HC"]
	},
    xAxis: {
        type: 'category',
        data: []
    },
    yAxis: [
		{
			name:'质押市值（￥）',
			type: 'value'
		},
		{
			name:'相对价格（￥）',
			type: 'value'
		}
    ],
    series: [
    {
		name:'质押市值',
        data: [],
        type: 'line',
        yAxisIndex:0
    },
    {
		name:'BTC',
        data: [],
        type: 'line',
        yAxisIndex:1
    },
    {
		name:'HC',
		data: [],
        type: 'line',
        yAxisIndex:1
	}
    ]
};
	
	
	//堆积折线图
stackoption = {
	backgroundColor: '#F0FFFF',
	title: {
		text: 'hx链上资产量（￥）'
    },
    tooltip : {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
        },
        position: function (pt) {
            return [pt[0], '10%'];
        }
    },
    legend: {
		data:[]
    },
    toolbox: {
        feature: {
            dataZoom: {
                yAxisIndex: 'none'
            },
            restore: {},
            saveAsImage: {}
        }
    },
    dataZoom: [{
        type: 'inside',
        start: 0,
        end: 100
    }, {
        start: 0,
        end: 10,
        handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
        handleSize: '80%',
        handleStyle: {
            color: '#fff',
            shadowBlur: 3,
            shadowColor: 'rgba(0, 0, 0, 0.6)',
            shadowOffsetX: 2,
            shadowOffsetY: 2
        }
    }],
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
			data : []
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
        {
            name:'BTC',
            type:'line',
            stack: '总量',
            areaStyle: {},
            data:[]
        },
        {
            name:'ELF',
            type:'line',
            stack: '总量',
            areaStyle: {},
            data:[]
        },
        {
            name:'PAX',
            type:'line',
            stack: '总量',
            areaStyle: {},
            data:[]
        },
        {
            name:'ETH',
            type:'line',
            stack: '总量',
            areaStyle: {},
            data:[]
        },      
        {
            name:'USDT',
            type:'line',
            stack: '总量',
            areaStyle: {normal: {}},
			data:[]
		},
        {
            name:'LTC',
            type:'line',
            stack: '总量',
            //~ label: {
                //~ normal: {
                    //~ show: true,
                    //~ position: 'top'
                //~ }
            //~ },
            areaStyle: {normal: {}},
            data:[]
        } ,
        {
            name:'HC',
            type:'line',
            stack: '总量',
            areaStyle: {},
            data:[]
        }
    ]
};
	//1日进出量
inoutoption1 = {
	tooltip : {
        trigger: 'axis',
        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
        }
    },
    title: {
		text: '近1日币量进出幅度%',
        x:'center'
	},
    legend: {
        data:['幅度']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis : [
        {
            type : 'value'
        }
    ],
    yAxis : [
        {
            type : 'category',
            axisTick : {show: false},
            data : []
        }
    ],
    series : [
        {
            name:'增长',
            type:'bar',
            //~ stack: '总量',
            label: {
                normal: {
                    show: true
                }
            },
            data:[]
        }]
	}
	//7日进出量
inoutoption2 = {
	tooltip : {
        trigger: 'axis',
        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
        }
    },
    title: {
		text: '近7日币量进出幅度%',
        x:'center'
	},
    legend: {
        data:['幅度']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis : [
        {
            type : 'value'
        }
    ],
    yAxis : [
        {
            type : 'category',
            axisTick : {show: false},
            data : []
        }
    ],
    series : [
        {
            name:'增长',
            type:'bar',
            //~ stack: '总量',
            label: {
                normal: {
                    show: true
                }
            },
            data:[]
        }]
	}	
	
	//ajax请求后台数据
$.ajax({
        type: "get",
        async: true,
        url: "data.json",
        dataType: "json",
        success: function(data) {
			//~ alert("success");
            console.log(data.coins.length);
            //填充饼图数据
            for(var i= 0,len=data.coins.length;i<len;i++){
                var json={};
				
                json.name=data.coins[i];
                json.value=data.asset_list[i];
                
                pieoption.series[0].data[i]=json;
                pieoption.series[0].data.sort(function (a, b) { return a.value - b.value; });
                pieoption.legend.data=data.coins;
            }
            var total = data.total_value;
            var total_e = total[total.length-1]/100000000;
            pieoption.title.subtext="链上资产总额："+total_e.toFixed(4).toString()+" 亿元";
            
            //填充价格-质押额曲线数据
            relative_option.xAxis.data=data.time;
            relative_option.series[0].data=data.total_value;
            relative_option.series[1].data=data.btc_price;
            relative_option.series[2].data=data.hc_price;
            
            //填充堆积折线图数据
            stackoption.legend.data=data.coins;
            stackoption.xAxis[0].data=data.time;           
			stackoption.series[0].data=data.btc;
			stackoption.series[1].data=data.elf;
			stackoption.series[2].data=data.pax;
			stackoption.series[3].data=data.eth;
			stackoption.series[4].data=data.usdt;
			stackoption.series[5].data=data.ltc;
			stackoption.series[6].data=data.hc;
            
			//填充币量进出条形图数据
			
			
			inoutoption1.yAxis[0].data=data.coins;
			inoutoption1.series[0].data=data.day_change;
			inoutoption2.yAxis[0].data=data.coins;
			inoutoption2.series[0].data=data.week_change;
			
            piechart.setOption(pieoption);
            relativechart.setOption(relative_option);          
            stackchart.setOption(stackoption);
            inoutchart1.setOption(inoutoption1);
            inoutchart2.setOption(inoutoption2);
       
        },
        error: function(errorMsg) {
            alert("失败");
        }
    });

	</script>
</body>

</html>
